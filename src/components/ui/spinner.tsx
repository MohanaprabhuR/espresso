"use client";

import * as React from "react";
import { cn } from "@/lib/utils";

interface SpinnerProps extends React.HTMLAttributes<HTMLDivElement> {
  size?: "sm" | "md" | "lg";
  track?: boolean;
}

export function Spinner({
  size = "sm",
  track = false,
  className,
  ...props
}: SpinnerProps) {
  // Tailwind container sizes
  const containerSizes = {
    sm: "h-3 w-3",
    md: "h-8 w-8",
    lg: "h-12 w-12",
  };

  // SVG viewBox mapping
  const svgConfig = {
    sm: "0 0 12 12",
    md: "0 0 24 24",
    lg: "0 0 48 48",
  };

  const vb = svgConfig[size];

  return (
    <div
      className={cn(
        "relative inline-flex items-center justify-center",
        containerSizes[size],
        className
      )}
      {...props}
    >
      {track && (
        <div className="absolute inset-0 rounded-full border border-gray-200" />
      )}

      <div className="absolute inset-0 rounded-full animate-spin">
        <svg
          width="100%"
          height="100%"
          viewBox={vb}
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          preserveAspectRatio="xMidYMid meet"
        >
          <g
            clipPath="url(#paint0_angular_63_108467_clip_path)"
            data-figma-skip-parse="true"
          >
            <g transform="matrix(0.0054 -0.0009 0.0009 0.0054 6 5)">
              <foreignObject
                x="-1261.26"
                y="-1261.26"
                width="2522.52"
                height="2522.52"
              >
                <div
                  xmlns="http://www.w3.org/1999/xhtml"
                  style={{
                    background:
                      "conic-gradient(from 90deg,rgba(56,56,56,0.0018) 0deg,rgba(56,56,56,1) 260.571deg,rgba(56,56,56,0) 359.525deg,rgba(56,56,56,0.0018) 360deg)",
                    height: "100%",
                    width: "100%",
                    opacity: 1,
                  }}
                />
              </foreignObject>
            </g>
          </g>
          <path d="M11.25 5C11.25 4.58579 10.9142 4.25 10.5 4.25C10.0858 4.25 9.75 4.58579 9.75 5L10.5 5L11.25 5ZM8.25 8.89711L8.625 9.54663L8.25 8.89711ZM6 9.5L6 8.75L6 9.5ZM2.10289 7.25L1.45337 7.625L2.10289 7.25ZM1.5 5L0.75 5L1.5 5ZM2.10289 2.75L2.7524 3.125L2.10289 2.75ZM4.125 1.7524C4.48372 1.5453 4.60663 1.0866 4.39952 0.727885C4.19241 0.369166 3.73372 0.246259 3.375 0.453366L3.75 1.10289L4.125 1.7524ZM10.5 5L9.75 5C9.75 5.65826 9.57673 6.30493 9.24759 6.875L9.89711 7.25L10.5466 7.625C11.0074 6.8269 11.25 5.92157 11.25 5L10.5 5ZM9.89711 7.25L9.24759 6.875C8.91846 7.44507 8.44507 7.91846 7.875 8.2476L8.25 8.89711L8.625 9.54663C9.4231 9.08585 10.0858 8.4231 10.5466 7.625L9.89711 7.25ZM8.25 8.89711L7.875 8.2476C7.30493 8.57673 6.65826 8.75 6 8.75L6 9.5L6 10.25C6.92157 10.25 7.8269 10.0074 8.625 9.54663L8.25 8.89711ZM6 9.5L6 8.75C5.34174 8.75 4.69507 8.57673 4.125 8.24759L3.75 8.89711L3.375 9.54663C4.1731 10.0074 5.07843 10.25 6 10.25L6 9.5ZM3.75 8.89711L4.125 8.24759C3.55493 7.91846 3.08154 7.44507 2.7524 6.875L2.10289 7.25L1.45337 7.625C1.91415 8.4231 2.5769 9.08585 3.375 9.54663L3.75 8.89711ZM2.10289 7.25L2.7524 6.875C2.42327 6.30493 2.25 5.65826 2.25 5L1.5 5L0.75 5C0.75 5.92157 0.992582 6.8269 1.45337 7.625L2.10289 7.25ZM1.5 5L2.25 5C2.25 4.34174 2.42327 3.69507 2.7524 3.125L2.10289 2.75L1.45337 2.375C0.992583 3.1731 0.75 4.07843 0.75 5L1.5 5ZM2.10289 2.75L2.7524 3.125C3.08154 2.55493 3.55493 2.08154 4.125 1.7524L3.75 1.10289L3.375 0.453366C2.5769 0.91415 1.91415 1.5769 1.45337 2.375L2.10289 2.75Z" />
          <defs>
            <clipPath id="paint0_angular_63_108467_clip_path">
              <path d="M11.25 5C11.25 4.58579 10.9142 4.25 10.5 4.25C10.0858 4.25 9.75 4.58579 9.75 5L10.5 5L11.25 5ZM8.25 8.89711L8.625 9.54663L8.25 8.89711ZM6 9.5L6 8.75L6 9.5ZM2.10289 7.25L1.45337 7.625L2.10289 7.25ZM1.5 5L0.75 5L1.5 5ZM2.10289 2.75L2.7524 3.125L2.10289 2.75ZM4.125 1.7524C4.48372 1.5453 4.60663 1.0866 4.39952 0.727885C4.19241 0.369166 3.73372 0.246259 3.375 0.453366L3.75 1.10289L4.125 1.7524ZM10.5 5L9.75 5C9.75 5.65826 9.57673 6.30493 9.24759 6.875L9.89711 7.25L10.5466 7.625C11.0074 6.8269 11.25 5.92157 11.25 5L10.5 5ZM9.89711 7.25L9.24759 6.875C8.91846 7.44507 8.44507 7.91846 7.875 8.2476L8.25 8.89711L8.625 9.54663C9.4231 9.08585 10.0858 8.4231 10.5466 7.625L9.89711 7.25ZM8.25 8.89711L7.875 8.2476C7.30493 8.57673 6.65826 8.75 6 8.75L6 9.5L6 10.25C6.92157 10.25 7.8269 10.0074 8.625 9.54663L8.25 8.89711ZM6 9.5L6 8.75C5.34174 8.75 4.69507 8.57673 4.125 8.24759L3.75 8.89711L3.375 9.54663C4.1731 10.0074 5.07843 10.25 6 10.25L6 9.5ZM3.75 8.89711L4.125 8.24759C3.55493 7.91846 3.08154 7.44507 2.7524 6.875L2.10289 7.25L1.45337 7.625C1.91415 8.4231 2.5769 9.08585 3.375 9.54663L3.75 8.89711ZM2.10289 7.25L2.7524 6.875C2.42327 6.30493 2.25 5.65826 2.25 5L1.5 5L0.75 5C0.75 5.92157 0.992582 6.8269 1.45337 7.625L2.10289 7.25ZM1.5 5L2.25 5C2.25 4.34174 2.42327 3.69507 2.7524 3.125L2.10289 2.75L1.45337 2.375C0.992583 3.1731 0.75 4.07843 0.75 5L1.5 5ZM2.10289 2.75L2.7524 3.125C3.08154 2.55493 3.55493 2.08154 4.125 1.7524L3.75 1.10289L3.375 0.453366C2.5769 0.91415 1.91415 1.5769 1.45337 2.375L2.10289 2.75Z" />
            </clipPath>
          </defs>
        </svg>
      </div>
    </div>
  );
}
